<div class="bg-gray-100 min-h-screen">
  <!-- Barra de Navegación Superior -->
  <nav class="bg-white border-b border-gray-300 shadow-sm">
    <div class="flex justify-between items-center px-6 py-4">
      <button id="menuBtn" (click)="toggleSideNav()"
        class="p-2 rounded-md text-cyan-500 hover:bg-cyan-100 active:bg-cyan-200 transition-all duration-300">
        <i class="fas fa-bars text-lg"></i>
      </button>

      <div class="flex items-center">
        <img src="icon.jpg" alt="Logo" class="w-12 h-12 mr-2 md:w-28 md:h-18" />
        <h2 class="font-bold text-lg md:text-xl text-gray-800 hidden md:block">TRUCK SERVICES SAS</h2>
      </div>

      <div class="space-x-4 flex items-center">
        <p class="text-gray-800 font-medium">{{ role || 'Usuario' }}</p>
        <button class="p-2 rounded-md text-cyan-500 hover:bg-cyan-100 active:bg-cyan-200 transition-all duration-300">
          <i class="fas fa-user text-lg"></i>
        </button>
      </div>
    </div>
  </nav>

  <!-- Barra Lateral -->
  <div id="sideNav" [ngClass]="{'block': showSideNav, 'hidden': !showSideNav, 'lg:block': true}" 
       class="bg-white w-64 h-screen fixed rounded-none border-none shadow-lg">
    <div class="p-4 space-y-4">
      <a routerLink="/user/cliente" routerLinkActive="bg-gradient-to-r from-sky-600 to-cyan-400 text-white"
         class="px-4 py-3 flex items-center space-x-4 rounded-md text-gray-700 
                hover:bg-cyan-50 hover:text-cyan-600 transition-all duration-300">
         <i class="fas fa-file-alt"></i>
         <span>Clientes</span>
      </a>

      <ng-container *ngIf="clienteSeleccionado">
        <!-- Botón ATS (siempre visible) -->
        <a routerLink="/user/ats" routerLinkActive="bg-gradient-to-r from-sky-600 to-cyan-400 text-white"
          class="px-4 py-3 flex items-center space-x-4 rounded-md text-gray-700 
                 hover:bg-cyan-50 hover:text-cyan-600 transition-all duration-300">
          <i class="fas fa-shield-alt"></i>
          <span>Evaluación ATS</span>
        </a>

        <!-- Otros botones (solo visibles si hay un ATS) -->
        <ng-container *ngIf="mostrarTodosBotones">
          <a routerLink="/user/registro-pruebas" routerLinkActive="bg-gradient-to-r from-sky-600 to-cyan-400 text-white"
            class="px-4 py-3 flex items-center space-x-4 rounded-md text-gray-700 
                   hover:bg-cyan-50 hover:text-cyan-600 transition-all duration-300">
            <i class="fas fa-file-alt"></i>
            <span>Registro de Pruebas</span>
          </a>

          <a routerLink="/user/historial-pruebas" routerLinkActive="bg-gradient-to-r from-sky-600 to-cyan-400 text-white"
            class="px-4 py-3 flex items-center space-x-4 rounded-md text-gray-700 
                   hover:bg-cyan-50 hover:text-cyan-600 transition-all duration-300">
            <i class="fas fa-history"></i>
            <span>Historial de Pruebas</span>
          </a>

          <a routerLink="/user/exportacion-informes" routerLinkActive="bg-gradient-to-r from-sky-600 to-cyan-400 text-white"
            class="px-4 py-3 flex items-center space-x-4 rounded-md text-gray-700 
                   hover:bg-cyan-50 hover:text-cyan-600 transition-all duration-300">
            <i class="fas fa-file-export"></i>
            <span>Exportación de Informes</span>
          </a>

          <a routerLink="/user/historial-ats" routerLinkActive="bg-gradient-to-r from-sky-600 to-cyan-400 text-white"
            class="px-4 py-3 flex items-center space-x-4 rounded-md text-gray-700 
                   hover:bg-cyan-50 hover:text-cyan-600 transition-all duration-300">
            <i class="fas fa-history"></i>
            <span>Historial ATS</span>
          </a>

          <a routerLink="/user/notificaciones" routerLinkActive="bg-gradient-to-r from-sky-600 to-cyan-400 text-white"
            class="px-4 py-3 flex items-center space-x-4 rounded-md text-gray-700 
                   hover:bg-cyan-50 hover:text-cyan-600 transition-all duration-300">
            <i class="fas fa-bell"></i>
            <span>Notificaciones</span>
          </a>
        </ng-container>
      </ng-container>

      <a (click)="logout()" class="px-4 py-3 flex items-center space-x-4 rounded-md text-gray-700 
               hover:bg-red-50 hover:text-red-600 active:bg-red-100 transition-all duration-300">
        <i class="fas fa-sign-out-alt text-red-500"></i>
        <span>Cerrar Sesión</span>
      </a>
    </div>
  </div>

  <!-- Contenido Principal -->
  <div class="lg:ml-64 lg:pl-4 lg:flex lg:flex-col lg:w-3/4 mt-5 mx-2">
    <router-outlet></router-outlet>
  </div>
</div>