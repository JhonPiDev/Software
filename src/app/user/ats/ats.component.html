<div class="bg-white shadow-lg rounded-lg p-6 max-w-3xl mx-auto">
  <h1 class="text-2xl font-semibold text-gray-800 mb-4 text-center">Análisis de Trabajo Seguro (ATS)</h1>

  <form [formGroup]="ATSForm" (ngSubmit)="enviarFormulario()" class="space-y-4">
    <!-- NIT del Cliente (solo para visualización) -->
    <div>
      <label class="font-medium text-gray-700">NIT del Cliente:</label>
      <input type="text" [value]="ATSForm.get('usuario_nit')?.value" 
        class="w-full p-2 border border-gray-300 rounded-md bg-gray-100" readonly>
      <input type="hidden" formControlName="usuario_nit">
    </div>

    <div>
      <label class="font-medium text-gray-700">Lugar:</label>
      <input type="text" formControlName="lugar"
        class="w-full p-2 border border-gray-300 rounded-md focus:ring focus:ring-cyan-300">
    </div>

    <div>
      <label class="font-medium text-gray-700">Fecha:</label>
      <input type="date" formControlName="fecha"
        class="w-full p-2 border border-gray-300 rounded-md bg-gray-100 cursor-not-allowed" readonly>
    </div>

    <div>
      <label class="font-medium text-gray-700">Procedimiento:</label>
      <textarea formControlName="procedimiento"
        class="w-full p-2 border border-gray-300 rounded-md focus:ring focus:ring-cyan-300"></textarea>
    </div>

    <div>
      <label class="font-medium text-gray-700">
        Nivel de Riesgo:
        <span class="text-sm text-gray-500 cursor-pointer" title="Identifica los riesgos presentes en el lugar de trabajo o en la actividad que vas a realizar."></span>
      </label>
      <p class="text-sm text-gray-600 mb-2">Selecciona los riesgos que puedan estar presentes en el lugar de trabajo o en la actividad.</p>
      <div class="grid grid-cols-2 gap-2 mt-2">
        <label class="flex items-center space-x-2"><input type="checkbox" formControlName="nivelRuido" class="accent-cyan-500"> <span>Nivel de Ruido</span></label>
        <label class="flex items-center space-x-2"><input type="checkbox" formControlName="materialFilo" class="accent-cyan-500"> <span>Material con filo</span></label>
        <label class="flex items-center space-x-2"><input type="checkbox" formControlName="quimicos" class="accent-cyan-500"> <span>Químicos</span></label>
        <label class="flex items-center space-x-2"><input type="checkbox" formControlName="iluminacion" class="accent-cyan-500"> <span>Iluminación</span></label>
        <label class="flex items-center space-x-2"><input type="checkbox" formControlName="ventilacion" class="accent-cyan-500"> <span>Ventilación</span></label>
        <label class="flex items-center space-x-2"><input type="checkbox" formControlName="caidas" class="accent-cyan-500"> <span>Caídas</span></label>
      </div>
    </div>

    <div>
      <label class="font-medium text-gray-700">
        Equipos de Protección Personal:
        <span class="text-sm text-gray-500 cursor-pointer" title="Selecciona los equipos de protección que los trabajadores deben usar para mitigar los riesgos identificados."></span>
      </label>
      <p class="text-sm text-gray-600 mb-2">Selecciona los equipos de protección personal (EPP) necesarios para proteger a los trabajadores según los riesgos identificados.</p>
      <div class="grid grid-cols-2 gap-2 mt-2">
        <label class="flex items-center space-x-2"><input type="checkbox" formControlName="gafasSeguridad" class="accent-cyan-500"> <span>Gafas de Seguridad</span></label>
        <label class="flex items-center space-x-2"><input type="checkbox" formControlName="arnes" class="accent-cyan-500"> <span>Arnés</span></label>
        <label class="flex items-center space-x-2"><input type="checkbox" formControlName="guantes" class="accent-cyan-500"> <span>Guantes</span></label>
        <label class="flex items-center space-x-2"><input type="checkbox" formControlName="casco" class="accent-cyan-500"> <span>Casco</span></label>
      </div>
    </div>

    <div class="text-center">
      <button type="submit" [disabled]="ATSForm.invalid"
        class="px-6 py-2 bg-cyan-600 text-white font-semibold rounded-lg hover:bg-cyan-700 transition duration-200">
        Guardar ATS
      </button>
    </div>
  </form>
</div>

<!-- Modal de éxito -->
<div *ngIf="showModal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50">
  <div class="bg-white p-6 rounded-lg shadow-lg max-w-sm text-center">
    <h2 class="text-lg font-semibold text-gray-800">¡Guardado exitosamente!</h2>
    <p class="text-gray-600 mt-2">El Análisis de Trabajo Seguro (ATS) ha sido registrado correctamente.</p>
    <button (click)="cerrarModal()" class="mt-4 px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700">
      Cerrar
    </button>
  </div>
</div>